<title>Happy Valentines Day!</title>
<script>
var so;


function
heart(canvas)
{
	this.x=0.1;
	this.y=0.1;
	this.animcounter=0;
	this.ctx=canvas.getContext("2d");
	this.xdir=1;
	this.ydir=1;
	this.swidth=canvas.width;
	this.sheight=canvas.height;
	this.speed=30;
	this.fg="#f0f"
	this.bg="#fff"
}
heart.prototype.erase = function (back)
{
	this.ctx.translate(this.calcx(back,-1*this.speed,false),this.calcy(back,-1*this.speed,false));
	this.ctx.strokeStyle = this.bg
		for(var i=0; i<10; i++)
	this.draw();
}
heart.prototype.draw= function ()
{
	var ctx = this.ctx

	ctx.lineWidth=1;
	ctx.beginPath();
	ctx.moveTo(75,40);
	ctx.bezierCurveTo(75,37,70,25,50,25);
	ctx.bezierCurveTo(20,25,20,62.5,20,62.5);
	ctx.bezierCurveTo(20,80,40,102,75,120);
	ctx.bezierCurveTo(110,102,130,80,130,62.5);
	ctx.bezierCurveTo(130,62.5,130,25,100,25);
	ctx.bezierCurveTo(85,25,75,37,75,40);
	ctx.stroke();

}
heart.prototype.calcx = function (frames,speed,updatexdir)
{
	var x=this.x
	var xdir=this.xdir
	for(var i=0;i<frames;i++)
	{
		x=x+(speed*xdir)
		if(x>this.swidth)
			xdir=-1;
		if(x<0)
			xdir=1;
	}
	if(updatexdir)
		this.xdir=xdir;
	return x
}
heart.prototype.calcy = function (frames,speed,updateydir)
{
	var y=this.y
	var ydir=this.ydir
	for(var i=0;i<frames;i++)
	{
		y=y+(speed*ydir)
		if(y>this.sheight)
			ydir=-1;
		if(y<0)
			ydir=1;
	}
	if(updateydir)
		this.ydir=ydir;
	return y
}
heart.prototype.drawframe = function ()
{
	this.x=this.calcx(1,this.speed,true);
	this.y=this.calcy(1,this.speed,true);
	var ctx=this.ctx
	ctx.save()
	this.erase(6);
	ctx.restore()
	//console.log(this.x)
	var ctx = this.ctx
	ctx.save()
	ctx.translate(this.x,this.y);

	ctx.strokeStyle = this.fg
		this.draw()
	ctx.restore()
}
function
draw()
{	
	var canvas = document.getElementById("a");
	var ctx = canvas.getContext("2d");
//	ctx.fillStyle =  "rgb(0,0,0)";
//	ctx.fillRect(0,0,ctx.canvas.width ,ctx.canvas.height);
	ctx.save()
	ctx.scale(0.5,0.5)
	so.drawframe()
	ctx.restore()
}
function
main() {
	var canvas = document.getElementById("a");
	var ctx = canvas.getContext("2d");

	canvas.width  = window.innerWidth;
	canvas.height = window.innerHeight;
	so = new heart(canvas);
	setInterval(draw, 50);
}

</script>

<body onload="main();">
<canvas id=a> </body>
