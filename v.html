<title>Happy Valentines Day!</title>
<script>
var so;


function
heart(canvas)
{
	this.x=0.1;
	this.y=0.1;
	this.animcounter=0;
	this.ctx=canvas.getContext("2d");
	this.xdir=1;
	this.ydir=1;
	this.swidth=canvas.width;
	this.speed=1;
	this.fg="#f0f"
	this.bg="#0ff"
}
heart.prototype.erase = function (back)
{
	this.ctx.translate(this.calcx(back,-1*this.speed,false),this.y);
	this.ctx.strokeStyle = this.bg
	this.draw();
}
heart.prototype.draw= function ()
{
	var ctx = this.ctx

	ctx.lineWidth=0.1;
	ctx.beginPath();
	ctx.moveTo(75,40);
	ctx.bezierCurveTo(75,37,70,25,50,25);
	ctx.bezierCurveTo(20,25,20,62.5,20,62.5);
	ctx.bezierCurveTo(20,80,40,102,75,120);
	ctx.bezierCurveTo(110,102,130,80,130,62.5);
	ctx.bezierCurveTo(130,62.5,130,25,100,25);
	ctx.bezierCurveTo(85,25,75,37,75,40);
	ctx.stroke();

}
heart.prototype.calcx = function (frames,speed,updatexdir)
{
	var x=this.x
	var xdir=this.xdir
	for(var i=0;i<frames;i++)
	{
		x=x+(speed*xdir)
		if(x>this.swidth)
			xdir=-1;
		if(x<0)
			xdir=1;
	}
	if(updatexdir)
		this.xdir=xdir;
	return x
}
heart.prototype.drawframe = function ()
{
	this.x=this.calcx(1,this.speed,true);
	var ctx=this.ctx
	ctx.save()
	this.erase(1);
	ctx.restore()
	//console.log(this.x)
	var ctx = this.ctx
	ctx.save()
	ctx.translate(this.x,this.y);

	ctx.strokeStyle = this.fg
		this.draw()
	ctx.restore()
}
function
draw()
{	
	var canvas = document.getElementById("a");
	var ctx = canvas.getContext("2d");
//	ctx.fillStyle =  "rgb(0,0,0)";
//	ctx.fillRect(0,0,ctx.canvas.width ,ctx.canvas.height);
	ctx.save()
	ctx.scale(0.5,0.5)
	so.drawframe()
	ctx.restore()
}
function
main() {
	var canvas = document.getElementById("a");
	var ctx = canvas.getContext("2d");

	so = new heart(canvas);
	so.width=30;
	setInterval(draw, 50);
}

</script>

<body onload="main();">
<canvas id=a> </body>
