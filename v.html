<title>Happy Valentines Day!</title>
<script>
var so;
var bg="#ff0"

function
heart(canvas)
{
	this.x=0.1;
	this.y=0.1;
	this.animcounter=0;
	this.ctx=canvas.getContext("2d");
	this.xdir=1;
	this.ydir=1;
	this.cdtimex=0;
	this.cdtimey=0;
	this.swidth=canvas.width;
	this.sheight=canvas.height;
	this.speed=9;
	this.fg="#f0f"
	this.bg=bg
}
heart.prototype.erase = function (back)
{
	this.ctx.translate(this.calcx(back,-1*this.speed,false,true),this.calcy(back,-1*this.speed,false,true));
	this.ctx.strokeStyle = this.bg
		for(var i=0; i<10; i++)
	this.draw();
}
heart.prototype.draw= function ()
{
	var ctx = this.ctx

	ctx.lineWidth=1;
	ctx.beginPath();
	ctx.moveTo(75,40);
	ctx.bezierCurveTo(75,37,70,25,50,25);
	ctx.bezierCurveTo(20,25,20,62.5,20,62.5);
	ctx.bezierCurveTo(20,80,40,102,75,120);
	ctx.bezierCurveTo(110,102,130,80,130,62.5);
	ctx.bezierCurveTo(130,62.5,130,25,100,25);
	ctx.bezierCurveTo(85,25,75,37,75,40);
	ctx.stroke();

}
heart.prototype.calcx = function (frames,speed,updatexdir,back)
{
	var x=this.x
	var xdir=this.xdir
	
	for(var i=0;i<frames;i++)
	{
		if(x>this.swidth || x<0)
		{
			xdir=xdir*-1;
		}
		x=x+(speed*xdir)
	}
	if(updatexdir){
		if(this.xdir!=xdir)
			this.cdtimex=0;
		else
			this.cdtimex+=1;
		this.xdir=xdir;
	}
	return x
}
heart.prototype.calcy = function (frames,speed,updateydir,back)
{
	var y=this.y
	var ydir=this.ydir
	if(back)
	{
		if(frames>this.cdtimey)
			ydir=ydir*-1
	}
	for(var i=0;i<frames;i++)
	{
		if(y>this.sheight || y<0)
			ydir=ydir*-1;
		y=y+(speed*ydir)
	}
	if(updateydir){
		if(this.ydir!=ydir)
			this.cdtime=0;
		else
			this.cdtimey+=1;
		this.ydir=ydir;
	}
	return y
}
heart.prototype.drawframe = function ()
{
	this.x=this.calcx(1,this.speed,true,false);
	this.y=this.calcy(1,this.speed,true,false);
	var ctx=this.ctx
	ctx.save()
	this.erase(30);
	ctx.restore()
	//console.log(this.x)
	var ctx = this.ctx
	ctx.save()
	ctx.translate(this.x,this.y);

	ctx.strokeStyle = this.fg
		this.draw()
	ctx.restore()
}
function
draw()
{	
	var canvas = document.getElementById("a");
	var ctx = canvas.getContext("2d");
	ctx.save()
	ctx.scale(0.5,0.5)
	so.drawframe()
	ctx.restore()
}
function
main() {
	var canvas = document.getElementById("a");
	var ctx = canvas.getContext("2d");

	canvas.width  = window.innerWidth;
	canvas.height = window.innerHeight;
	ctx.fillStyle =  "rgb(0,0,0)";
	ctx.fillRect(0,0,ctx.canvas.width ,ctx.canvas.height);

	so = new heart(canvas);
	setInterval(draw, 50);
}

</script>

<body onload="main();">
<canvas id=a> </body>
